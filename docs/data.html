<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Data | Analyzing Pace-of-Play in Soccer using Spatio-Temporal Event Data</title>
  <meta name="description" content="Chapter 2 Data | Analyzing Pace-of-Play in Soccer using Spatio-Temporal Event Data" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Data | Analyzing Pace-of-Play in Soccer using Spatio-Temporal Event Data" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Data | Analyzing Pace-of-Play in Soccer using Spatio-Temporal Event Data" />
  
  
  

<meta name="author" content="Ethan Shen" />


<meta name="date" content="2021-04-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html"/>
<link rel="next" href="pace-of-play-metrics.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Analyzing Pace-of-Play in Soccer using Spatio-Temporal Event Data</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>2</b> Data</a><ul>
<li class="chapter" data-level="2.1" data-path="data.html"><a href="data.html#processing-the-data"><i class="fa fa-check"></i><b>2.1</b> Processing the Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="pace-of-play-metrics.html"><a href="pace-of-play-metrics.html"><i class="fa fa-check"></i><b>3</b> Pace-of-Play Metrics</a><ul>
<li class="chapter" data-level="3.1" data-path="pace-of-play-metrics.html"><a href="pace-of-play-metrics.html#framework"><i class="fa fa-check"></i><b>3.1</b> Framework</a><ul>
<li class="chapter" data-level="3.1.1" data-path="pace-of-play-metrics.html"><a href="pace-of-play-metrics.html#possession-sequences"><i class="fa fa-check"></i><b>3.1.1</b> Possession Sequences</a></li>
<li class="chapter" data-level="3.1.2" data-path="pace-of-play-metrics.html"><a href="pace-of-play-metrics.html#metrics-of-pace"><i class="fa fa-check"></i><b>3.1.2</b> Metrics of Pace</a></li>
<li class="chapter" data-level="3.1.3" data-path="pace-of-play-metrics.html"><a href="pace-of-play-metrics.html#spatial-polygrid-analysis"><i class="fa fa-check"></i><b>3.1.3</b> Spatial Polygrid Analysis</a></li>
<li class="chapter" data-level="3.1.4" data-path="pace-of-play-metrics.html"><a href="pace-of-play-metrics.html#zonal-analysis"><i class="fa fa-check"></i><b>3.1.4</b> Zonal Analysis</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="pace-of-play-metrics.html"><a href="pace-of-play-metrics.html#results"><i class="fa fa-check"></i><b>3.2</b> Results</a><ul>
<li class="chapter" data-level="3.2.1" data-path="pace-of-play-metrics.html"><a href="pace-of-play-metrics.html#epl-pace-polygrid"><i class="fa fa-check"></i><b>3.2.1</b> EPL Pace (Polygrid)</a></li>
<li class="chapter" data-level="3.2.2" data-path="pace-of-play-metrics.html"><a href="pace-of-play-metrics.html#epl-pace-zonal"><i class="fa fa-check"></i><b>3.2.2</b> EPL Pace (Zonal)</a></li>
<li class="chapter" data-level="3.2.3" data-path="pace-of-play-metrics.html"><a href="pace-of-play-metrics.html#pace-across-leagues"><i class="fa fa-check"></i><b>3.2.3</b> Pace Across Leagues</a></li>
<li class="chapter" data-level="3.2.4" data-path="pace-of-play-metrics.html"><a href="pace-of-play-metrics.html#epl-team-level-pace-polygrid"><i class="fa fa-check"></i><b>3.2.4</b> EPL Team-level Pace (Polygrid)</a></li>
<li class="chapter" data-level="3.2.5" data-path="pace-of-play-metrics.html"><a href="pace-of-play-metrics.html#epl-team-level-pace-zonal"><i class="fa fa-check"></i><b>3.2.5</b> EPL Team-level Pace (Zonal)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="modeling.html"><a href="modeling.html"><i class="fa fa-check"></i><b>4</b> Modeling</a><ul>
<li class="chapter" data-level="4.1" data-path="modeling.html"><a href="modeling.html#variable-and-model-selection"><i class="fa fa-check"></i><b>4.1</b> Variable and Model Selection</a></li>
<li class="chapter" data-level="4.2" data-path="modeling.html"><a href="modeling.html#hierarchical-logistic-model"><i class="fa fa-check"></i><b>4.2</b> Hierarchical Logistic Model</a></li>
<li class="chapter" data-level="4.3" data-path="modeling.html"><a href="modeling.html#multinomial-logistic-model"><i class="fa fa-check"></i><b>4.3</b> Multinomial Logistic Model</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>5</b> Discussion</a><ul>
<li class="chapter" data-level="5.1" data-path="discussion.html"><a href="discussion.html#future-steps"><i class="fa fa-check"></i><b>5.1</b> Future Steps</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>6</b> Appendix</a><ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#event-names"><i class="fa fa-check"></i>Event Names</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#minimum-number-of-events-per-possession"><i class="fa fa-check"></i>Minimum Number of Events per Possession</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#average-distance-per-pass"><i class="fa fa-check"></i>Average Distance per Pass</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#epl-team-level-pace-polygrid-1"><i class="fa fa-check"></i>EPL Team-level Pace (Polygrid)</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#hierarchical-logistic-model-diagnostics"><i class="fa fa-check"></i>Hierarchical Logistic Model Diagnostics</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#multinomial-logistic-model-diagnostics"><i class="fa fa-check"></i>Multinomial Logistic Model Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://stat.duke.edu/" target="blank">Duke University<br>Department of Statistical Science</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analyzing Pace-of-Play in Soccer using Spatio-Temporal Event Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Data</h1>
<p>There are three main types of data available for soccer analytics. The first type is similar to box score data, which provides the match outcome and statistics about each team’s performance, such as the number of shots and corner kicks taken. Our analysis utilizes event data, which describes the events that occur during a match and provide the 2D coordinates of the ball at the start and end of these events. The third and most granular type is tracking data, which generally records the 2D position of all players on the pitch and the 3D position of the ball throughout the match.</p>
<p>We utilize data collected by <a href="https://wyscout.com" target="blank">Wyscout</a>, a leading soccer analytics platform. The data includes the 1,826 regular-season games played during the 2017-2018 season in five prominent European soccer leagues, including the English first division (EPL), the French first division (Ligue 1), the German first division (Bundesliga), the Italian first division (Serie A) and the Spanish first division (La Liga). Overall, this amounts to 3,071,396 unique events, for an average of 1,682 events per game.</p>
<p>For each of the five leagues, the <em>events</em> data details all the events that occur during the course of each match. The data includes a number of variables that describe the event, including its name, time at which it occurs and its starting and ending coordinates. All the event and sub-event names can be found in Appendix Table <a href="appendix.html#tab:event-name-tbl">6.1</a>. It also includes variables that identify the player, team, match, and match period (1st or 2nd half) that the event corresponds to; the player, team and match IDs are unique numerical values assigned by Wyscout. Both the <em>x</em> and <em>y</em> coordinates are always in the range [0, 100] and indicate the percentage of the pitch from the perspective of the attacking team, which is assumed to always play from the left side to the right side of the pitch (Pappalardo, 2019). The value of the <em>x</em> coordinate indicates the event’s nearness (in percentage) to the opponent’s goal, while the value of the <em>y</em> coordinate indicates the event’s nearness (in percentage) to the right side of the field. For consecutive events in which the ball stays in play and is possessed by the same team, the ending coordinates of an event will match the subsequent event’s starting coordinates.</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:example-data">Table 2.1: </span>Representation of a play consisting of 5 actions in a match between Arsenal and Leicester City. The end coordinates of Arsenal’s first pass matches the start coordinates of Arsenal’s second pass.
</caption>
<thead>
<tr>
<th style="text-align:center;">
Match ID
</th>
<th style="text-align:center;">
Team Name
</th>
<th style="text-align:center;">
Event Name
</th>
<th style="text-align:center;">
Timestamp
</th>
<th style="text-align:center;">
<span class="math inline">\((x,y)_{start}\)</span>
</th>
<th style="text-align:center;">
<span class="math inline">\((x,y)_{end}\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
2499719
</td>
<td style="text-align:center;">
Arsenal
</td>
<td style="text-align:center;">
Pass
</td>
<td style="text-align:center;">
810.4485
</td>
<td style="text-align:center;">
(79.8, 15.4)
</td>
<td style="text-align:center;">
(74.55, 29.4)
</td>
</tr>
<tr>
<td style="text-align:center;">
2499719
</td>
<td style="text-align:center;">
Arsenal
</td>
<td style="text-align:center;">
Pass
</td>
<td style="text-align:center;">
811.5564
</td>
<td style="text-align:center;">
(74.55, 29.4)
</td>
<td style="text-align:center;">
(77.7, 34.3)
</td>
</tr>
<tr>
<td style="text-align:center;">
2499719
</td>
<td style="text-align:center;">
Arsenal
</td>
<td style="text-align:center;">
Duel
</td>
<td style="text-align:center;">
813.9146
</td>
<td style="text-align:center;">
(77.7, 34.3)
</td>
<td style="text-align:center;">
(78.75, 49)
</td>
</tr>
<tr>
<td style="text-align:center;">
2499719
</td>
<td style="text-align:center;">
Leicester City
</td>
<td style="text-align:center;">
Duel
</td>
<td style="text-align:center;">
814.0040
</td>
<td style="text-align:center;">
(27.3, 35.7)
</td>
<td style="text-align:center;">
(26.25, 21)
</td>
</tr>
<tr>
<td style="text-align:center;">
2499719
</td>
<td style="text-align:center;">
Arsenal
</td>
<td style="text-align:center;">
Shot
</td>
<td style="text-align:center;">
815.4620
</td>
<td style="text-align:center;">
(78.75, 49)
</td>
<td style="text-align:center;">
(105, 39.4)
</td>
</tr>
</tbody>
</table>
<p>Table <a href="data.html#tab:example-data">2.1</a> shows an example of five events in our data. This play consists of two consecutive passes, a duel on the ball, and ends with a shot taken by Arsenal.</p>
<p>Wyscout’s data collection is performed by expert analysts that tag the events from match videos (Pappalardo, 2019). For each ball touch in the match, the analyst will add the event type, timestamp, and coordinates on the pitch. A series of quality control checks are performed, algorithmically and manually. Though these steps substantially reduce the margin of error, there is still potential for uncatchable mistakes.</p>
<p>The <em>teams</em> data describes the clubs that play in the five leagues during the 2017-2018 season. This dataset contains the name of the club (e.g. Liverpool) and a team ID, which can be matched with the team-identifying variable in the <em>events</em> dataset.</p>
<div id="processing-the-data" class="section level2">
<h2><span class="header-section-number">2.1</span> Processing the Data</h2>
<p>The <em>events</em> and <em>teams</em> datasets, which are originally provided in JSON format, were transformed into data frames. We then merged the datasets by team ID so we also know the name of the club corresponding to each event.</p>
<p>Before conducting our analysis, we made three substantial changes to the merged dataset’s coordinates and coordinate system. Although soccer pitch measurements are not standardized, the preferred size for most professional clubs is 105 by 68 meters; we opted to make our pitch dimensions 105 by 70 meters for ease of calculations. Thus, the rescaled <em>x</em> coordinates are now always in the range [0, 105] and the <em>y</em> coordinates are now always in the range [0, 70]. From this point onward, references to the coordinates will be in terms of the rescaled pitch size.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-4"></span>
<img src="thesis_files/figure-html/unnamed-chunk-4-1.png" alt="Standard pitch measurements. All units are in meters." width="672" />
<p class="caption">
Figure 2.1: Standard pitch measurements. All units are in meters.
</p>
</div>
<p>There were also inconsistencies with some of the coordinates, particularly with goal kicks and shots. The starting coordinates for goal kicks were initially recorded at either (0, 70) for the home team or (105, 0) for the away team. Neither of these coordinates is possible - goal kicks should start within the attacking team’s goal area, a 5.5 by 18.3 meter box centered at the goal-line. Thus, a goal kick’s starting <em>x</em> coordinate was changed to 0, and its starting <em>y</em> coordinate was sampled uniformly from the interval [25.85, 44.15], the <em>y</em> coordinates of the goal area.</p>
<p>The ending coordinates for shots are initially recorded at either (0, 70) for the home team or (105, 0) for the away team. Once again, neither of these coordinates is realistic. Since the ending coordinates of the shot should match the starting coordinates of the following event, we assigned all starting <em>y</em> coordinates of the following event that are not 0 or 70 as the ending <em>y</em> coordinate of the shot, and changed the ending <em>x</em> coordinate of the shot to the starting <em>x</em> coordinate of the following event. This readjustment accounts for shots that are off-target or blocked by another player, but the ball still remains in play.
The ending <em>x</em> coordinates for remaining all shots were changed to 105, since these shots are either saved by the goalkeeper or deflected out of bounds. For these shots, the starting <em>y</em> coordinate of the following event is either 0 or 70. If the shot is saved by the goalkeeper, we assume that the shot was on-target. Thus, the ending <em>y</em> coordinates for saved shots were sampled uniformly from the interval [31.35, 38.65], the <em>y</em> coordinates of the goal. If the shot went out of bounds, we assume that the shot was off-target. Thus, the ending <em>y</em> coordinate was sampled uniformly from outside the <em>y</em> coordinates of the goal but within the penalty box, or uniformly from the interval [14.85, 31.35] <span class="math inline">\(\cup\)</span> [38.65, 55.15].</p>
<p>Processing the JSON files and transforming the coordinates can be implemented with functions in the <a href="https://github.com/shawnsanto/scoutr"><strong>scoutr</strong></a> R package, a complete and consistent set of functions for reading, manipulating, and visualization Wyscout soccer data.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="pace-of-play-metrics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["thesis.pdf", "PDF"], ["thesis.epub", "EPUB"], ["thesis.docx", "Word"]],
"toc": {
"collapse": "subsection"
},
"toc_depth": 2
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
